<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>jquery ajax</div>
  </body>
  <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script>
    function callAjax(){
       return new Promise(function(resolve, reject){
        $.ajax({
        url: 'https://api.hnpwa.com/v0/news/1.json',
        success: function(data){
          resolve(data)
        },
        carch: function(err){
          reject(err)
        }
      })
       })
    }

    function fetchData(){
      // 1
      var result = [ ];
      // 2
      // $.ajax({
      //   url: 'https://api.hnpwa.com/v0/news/1.json',
      //   success: function(data){
      //     console.log('데이터 호출 결과', data);
      //     result = data;
      //     console.log('함수 결과', result);
      //   }
      // })

      callAjax()
        .then(function(data){
          console.log('데이터 호출 결과', data);
          result = data;
          console.log('함수 결과', result);
        })
        .catch(function(err){
          console.log(err)
        })

      // new Promise
      //   .then(sdfasdfasdf) // 성공
      //   .catch(fgdfgsgfsfdg) // 실패
      // 3
      // console.log('함수 결과', result);
    }
    fetchData()
  </script>
</html>
